<!DOCTYPE html> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=generator  content="Docutils 0.17.1: http://docutils.sourceforge.net/" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="_static/stylesheets/application.css"/> <link rel=stylesheet  href="_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="_static/fonts/material-icons.css"/> <meta name=theme-color  content="#2196f3"> <script src="_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XX133829453-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-XX133829453-1'); </script> <title>Authentication &#8212; Practical Data Science</title> <link rel=stylesheet  type="text/css" href="_static/pygments.css" /> <link rel=stylesheet  type="text/css" href="_static/material.css" /> <script data-url_root="./" id=documentation_options  src="_static/documentation_options.js"></script> <script src="_static/jquery.js"></script> <script src="_static/underscore.js"></script> <script src="_static/doctools.js"></script> <script crossorigin=anonymous  integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script> <script async=async  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script> <link rel="shortcut icon" href="_static/mids_logo.svg"/> <link rel=index  title=Index  href=genindex.html  /> <link rel=search  title=Search  href=search.html  /> <body dir=ltr data-md-color-primary=blue-grey data-md-color-accent=blue> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#cloud_authentication" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href=index.html  title="Practical Data Science" class="md-header-nav__button md-logo"> <img src="_static/mids_logo.svg" height=26  alt="Practical Data Science logo"> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Practical Data Science</span> <span class=md-header-nav__topic > Authentication </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action=search.html  method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <script src="_static/javascripts/version_dropdown.js"></script> <script> var json_loc = ""versions.json"", target_loc = "../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=index.html  class=md-tabs__link >Home</a> <li class=md-tabs__item ><a href=class_schedule.html  class=md-tabs__link >Class Schedule</a> <li class=md-tabs__item ><a href=topic_list.html  class=md-tabs__link >Topic List</a> <li class=md-tabs__item ><a href="https://www.nickeubank.com" class=md-tabs__link >About The Author</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href=index.html  title="Practical Data Science" class="md-nav__button md-logo"> <img src="_static/mids_logo.svg" alt=" logo" width=48  height=48 > </a> <a href=index.html  title="Practical Data Science">Practical Data Science</a> </label> <ul class=md-nav__list > <li class=md-nav__item > <a href=class_schedule.html  class=md-nav__link >Class Schedule</a> <li class=md-nav__item > <a href=topic_list.html  class=md-nav__link >Topic List</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Environment Setup</span></span> <li class=md-nav__item > <a href=setting_up_your_computer.html  class=md-nav__link >Setup Computer for Data Science</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Basic Tools</span></span> <li class=md-nav__item > <a href=command_line_part1.html  class=md-nav__link >Command Line, Basics</a> <li class=md-nav__item > <a href=command_line_part2.html  class=md-nav__link >Command Line, Advanced</a> <li class=md-nav__item > <a href=jupyter.html  class=md-nav__link >Jupyter</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Python &amp; Pandas</span></span> <li class=md-nav__item > <a href=python_v_r.html  class=md-nav__link >Python / R Differences</a> <li class=md-nav__item > <a href=vars_v_objects.html  class=md-nav__link >Python: Vars v Objects</a> <li class=md-nav__item > <a href=ints_and_floats.html  class=md-nav__link >Numbers in Computers</a> <li class=md-nav__item > <a href=pandas_series.html  class=md-nav__link >Pandas 1: Series</a> <li class=md-nav__item > <a href=pandas_dataframes.html  class=md-nav__link >Pandas 2: DataFrames</a> <li class=md-nav__item > <a href=plotting_part1.html  class=md-nav__link >Plotting, Basics</a> <li class=md-nav__item > <a href=plotting_part2.html  class=md-nav__link >Plotting, Advanced</a> <li class=md-nav__item > <a href=views_and_copies_in_pandas.html  class=md-nav__link >Pandas 3: Views</a> <li class=md-nav__item > <a href=cleaning_editingvalues.html  class=md-nav__link >Cleaning: Editing Values</a> <li class=md-nav__item > <a href=parquet.html  class=md-nav__link >Parquet Format</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >DS Concepts</span></span> <li class=md-nav__item > <a href=defensive_programming.html  class=md-nav__link >Defensive Programming</a> <li class=md-nav__item > <a href=workflow.html  class=md-nav__link >Workflow Management</a> <li class=md-nav__item > <a href=backwards_design.html  class=md-nav__link >Backwards Design</a> <li class=md-nav__item > <a href=getting_help.html  class=md-nav__link >Getting Help Online</a> <li class=md-nav__item > <a href=what_is_big_data.html  class=md-nav__link >What is Big Data?</a> <li class=md-nav__item > <a href=big_data_strategies.html  class=md-nav__link >Working with Big Data</a> <li class=md-nav__item > <a href=performance_understanding.html  class=md-nav__link >Understanding Performance</a> <li class=md-nav__item > <a href=performance_solutions.html  class=md-nav__link >Solving Performance Probs</a> <li class=md-nav__item > <a href=parallelism.html  class=md-nav__link >Parallel Computing</a> <li class=md-nav__item > <a href=distributed_computing.html  class=md-nav__link >Distributed Computing</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Git and Github</span></span> <li class=md-nav__item > <a href=git_and_github.html  class=md-nav__link >Git and Github</a> <li class=md-nav__item > <a href=pr_review.html  class=md-nav__link >Reviewing Code on Github</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Other</span></span> <li class=md-nav__item > <a href=buying_datascience_computer.html  class=md-nav__link >Buying a Data Science Computer</a> <li class=md-nav__item > <a href=not_a_mids_student.html  class=md-nav__link >Not a MIDS Student?</a> <li class=md-nav__item > <a href=cheatsheets.html  class=md-nav__link >Cheat Sheets</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#cloud-authentication--page-root" class=md-nav__link >Authentication</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#Secret-Keys" class=md-nav__link >Secret Keys</a> <li class=md-nav__item ><a href="#Azure-Active-Directory-(Azure-AD)" class=md-nav__link >Azure Active Directory (Azure AD)</a> <li class=md-nav__item ><a href="#Why-Do-We-Have-Both-/-Which-Should-I-Use?" class=md-nav__link >Why Do We Have Both / Which Should I Use?</a> <li class=md-nav__item ><a href="#SSH-Authentication" class=md-nav__link >SSH Authentication</a> <li class=md-nav__item ><a href="#Conclusion" class=md-nav__link >Conclusion</a> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <section id=Authentication > <h1 id=cloud-authentication--page-root >Authentication<a class=headerlink  href="#cloud-authentication--page-root" title="Permalink to this headline">¶</a></h1> <p>One thing you may have already noticed is that the way we’ve been using a few different techniques to authenticate ourselves when we’re using Azure services – we accessed our Azure Storage Account with a long key, but we accessed our Workspace by having Python open a browser window where we had to log in. So… what’s the deal?</p> <p>In short, there are two types of authentication in Azure (and many cloud platforms): keys (or secrets), and a managed access system called Azure Active Directory (or AD).</p> <section id=Secret-Keys > <h2 id=Secret-Keys >Secret Keys<a class=headerlink  href="#Secret-Keys" title="Permalink to this headline">¶</a></h2> <p>Keys (secrets) are long strings of numbers/letters/symbols that are used as passwords for various services. For example, when we accessed accessed our storage by using a very long secret key. Keys are really easy to use initially (just copy and paste the string!), but for reasons we’ll discuss below, they’re actually much less secure and can lead to all sorts of problems. And so because of that, Azure also has…</p> </section> <section id="Azure-Active-Directory-(Azure-AD)"> <h2 id="Azure-Active-Directory-(Azure-AD)">Azure Active Directory (Azure AD)<a class=headerlink  href="#Azure-Active-Directory-(Azure-AD)" title="Permalink to this headline">¶</a></h2> <p>Azure Active Directory (AD) is a service provided by Azure for managing access to Azure resources and services. Basically, instead of managing secret keys yourself, you just tell Azure who you want to have access to resources, and people log-in through Azure to get access. It’s exactly the same as the system that underlies the “Sign-in with Google” or “Sign-in with Facebook” buttons you see all over the web.</p> </section> <section id="Why-Do-We-Have-Both-/-Which-Should-I-Use?"> <h2 id="Why-Do-We-Have-Both-/-Which-Should-I-Use?">Why Do We Have Both / Which Should I Use?<a class=headerlink  href="#Why-Do-We-Have-Both-/-Which-Should-I-Use?" title="Permalink to this headline">¶</a></h2> <p>For a long time, keys were the only way to manage access to computer systems, and they are still often times the easiest to use. But they also have a <em>lot</em> of security problems:</p> <ul class=simple > <li><p><strong>They aren’t personalized:</strong> Suppose that somehow your secret key gets out – you inadvertently put it in a public github repo file (this is so common github has a system that scans for them and sends you warnings when you screw up), or maybe you aren’t sure you’ve leaked a key, but you realize a resource you created might have had a security hole, so it <em>may</em> have been leaked. You can always cancel a secret key, but if you do so, it will immediately break <em>everything</em> your using that uses that key! If you have a key that only controls access to a small Storage Account only you use, that may not be a big problem, but what if dozens of people use a shared resource? You’d have to re-distibute the new key to all of them, and they’d have to update it in all the systems they use! So with keys, a small leak can result <em>huge</em> headaches.</p> <li><p><strong>Hard to cycle:</strong> Similarly, its good security practice to cycle your keys, meaning that from time to time you change them (just like your password!). But with a hard-coded key, that causes problems because you may have many resources (or many team members) all using a specific key. As a result, changing that key may cause massive headaches for everyone.</p> <li><p><strong>No scope:</strong> With a key, people usually either have the key or they don’t, making access binary. You (usually) can’t create a key that only gives people read-only access, and a separate key that gives people edit access, etc, and you <em>definitely</em> can’t chang people’s permissions once they have a given key.</p> </ul> <p>Azure AD solves all these problems. When someone signs in to a service with Azure AD, they’re actually given a secret key behind the scenes. But here’s the great part: that key is unique to that user, <em>and</em> it has an expiration date. That means that:</p> <ul class=simple > <li><p><strong>Leaks are contained:</strong> If someone accidentally gets a virus that steals their login info, or someone on your team gets fired, you can revoke <em>just that person’s</em> access.</p> <li><p><strong>Cycling is Automatic:</strong> Keys provided by Azure AD automatically expire after a set period, requiring users to re-authenticate. You may not realize it, but you’ve probably seen this happening with other access management systems. You know how GMail makes you re-enter you password every thirty days? That’s because the secret key it gave you last time you entered your password has expired so you need to login and get a new one.</p> <li><p><strong>Scope:</strong> The other great thing about Azure AD is that you can specify specific permissions for different users (read-only, read and edit, etc.). Moreover, you can update these permissions without breaking everyone’s workflow!</p> </ul> <p>Of course, this <em>does</em> mean that you’re moving all your trust from your key to people’s Azure logins. But whereas keys are just secret strings of letters and numbers, Azure AD logins are much more secure – it generally requires two-factor authentication, and (I <em>think</em>) it tracks login behavior for suspicious activity (e.g. if I try and login from Duke in the morning and Moscow at lunch, my guess it that Azure would ask for some extra verifications).</p> <p>So what service is best? In general, Azure AD is more secure and often easier to use, so you probably want to use it when you can, but there are still situations where you might want to use a key. For example…</p> </section> <section id=SSH-Authentication > <h2 id=SSH-Authentication >SSH Authentication<a class=headerlink  href="#SSH-Authentication" title="Permalink to this headline">¶</a></h2> <p>While <em>most</em> of the time we have the option of easily accessing Azure services using Azure AD, one exception is when you want to ssh into a virtual machine. (Azure has something for this, <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/key-vault-setup">Key Vault</a>, but not gonna lie: seems super complicated…)</p> <p><code class="docutils literal notranslate"><span class=pre >ssh</span></code>ing is when you connect to a virtual machine from the command line (e.g. your command line session becomes a command line session on the virtual machine) using the <strong>S</strong>ecure <strong>SH</strong>ell protocol. This is great both for working on a virtual machine, and also moving files back and forth (as both <a class="reference external" href="https://www.garron.me/en/articles/scp.html">scp</a> and <a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-use-rsync-to-sync-local-and-remote-directories-on-a-vps">rsync</a> — the easiest tools for transfering data between computers from the command line — run on ssh.) If you don’t know much about ssh, here’s a <a class="reference external" href="https://www.digitalocean.com/community/tutorials/ssh-essentials-working-with-ssh-servers-clients-and-keys">probably-a-little-too-in-depth-but-good tutorial</a>.</p> <p>There are a couple ways to connect two computers using ssh. The first is to just connect normally (type <code class="docutils literal notranslate"><span class=pre >ssh</span> <span class=pre >&lt;username&gt;@&lt;hostcomputeraddress&gt;</span></code>) then answer the password prompts. The problem with this strategy, however, is that Azure doesn’t support password prompts because user-created passwords tend to be wildly insecure.</p> <p>So the second option to use an RSA keypair, which is where you generate a pair of matching keys on your own computer (they get stored in <code class="docutils literal notranslate"><span class=pre >~/.ssh</span></code>), then give one to the VM you want to connect with at setup. From that point forward, whenever you type <code class="docutils literal notranslate"><span class=pre >ssh</span> <span class=pre >&lt;username&gt;@&lt;hostcomputeraddress&gt;</span></code> (or use <code class="docutils literal notranslate"><span class=pre >scp</span></code> to copy files), your computer will automatically check these codes and log you in automatically.</p> <p>You can find a tutorial on setting up ssh keypairs on <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/mac-create-ssh-keys">Mac or Linux here</a>, and on <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/ssh-from-windows">Windows here</a>.</p> </section> <section id=Conclusion > <h2 id=Conclusion >Conclusion<a class=headerlink  href="#Conclusion" title="Permalink to this headline">¶</a></h2> <p>So what authentication system should you use?</p> <p>If your system is just for you, and your data’s not super sensitive, using keys is probably fine. But Azure AD is better, safer, and often just as easy to use. And if you’re working with a <em>team</em>, I dare say it’s a must.</p> </section> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2021, Nick Eubank. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.1.2. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>